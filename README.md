# <img src="https://github.com/user-attachments/assets/ce7446f7-7d6f-428a-b077-77d97e6eac81" width="28px"/> í•œì”í•´

### ë‚˜ë§Œì„ ìœ„í•œ AI ë§ì¶¤ ì „í†µì£¼ íë ˆì´ì…˜! -> [ì‚¬ì´íŠ¸ ë³´ëŸ¬ê°€ê¸°](https://hanjanhae-xiyo.vercel.app/) 

![í•œì”í•´ ì´ë¯¸ì§€ 1](https://github.com/user-attachments/assets/cd74aecc-c606-4260-83d4-f90d3a899262)

<br>

# ğŸ¶ í”„ë¡œì íŠ¸ ì†Œê°œ

- **ì„œë¹„ìŠ¤ ê¸°íš ì˜ë„ :** <br>ìµœê·¼ ì „í†µì£¼ì— ëŒ€í•œ ê´€ì‹¬ì´ ë†’ì•„ì§€ëŠ” ê°€ìš´ë°,<br>
  ì‚¬ìš©ì ì·¨í–¥ì— ë”°ë¼ ì „í†µì£¼ë¥¼ ì¶”ì²œí•˜ê³  ì „í†µì£¼ì™€ ì–´ìš¸ë¦¬ëŠ” ìŒì‹ê³¼ì˜ í˜ì–´ë§ ì •ë³´ë¥¼ ì œê³µí•¨ìœ¼ë¡œì¨<br>
  ë” ë§ì€ ì‚¬ëŒë“¤ì´ ì „í†µì£¼ì˜ ë§¤ë ¥ì„ ëŠë¼ê³  ì¦ê¸¸ ìˆ˜ ìˆë„ë¡ ë•ê¸° ìœ„í•´ ê¸°íšë˜ì—ˆìŠµë‹ˆë‹¤.
- **í”„ë¡œì íŠ¸ í•œ ì¤„ ì„¤ëª… :** <br>ì‚¬ìš©ì ì·¨í–¥ì— ë”°ë¥¸ ì „í†µì£¼ ì¶”ì²œ ë° ìŒì‹ê³¼ì˜ í˜ì–´ë§, ì „í†µì£¼ ê´€ë ¨ ê²½í—˜ì„ í•¨ê»˜ ì œê³µí•˜ëŠ” í”Œë«í¼.

<br>

# ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ íŒ€ ì†Œê°œ

| **ì•ˆí˜„í¬** | **ê¹€í˜„ì§€** | **ë°•ê°€ë‚˜** | **ê¹€í˜¸ì¤€** | **ì¡°í˜œë¹ˆ** | **ìœ ì§€ì—°** |
|:---:|:---:|:---:|:---:|:---:|:---:|
| <img src="https://cdn-static.zep.us/static/assets/baked-avartar-images/10-396-57-178.png" alt="ì•ˆí˜„í¬" width="100"> | <img src="https://cdn-static.zep.us/static/assets/baked-avartar-images/2-239-26-75.png" alt="ê¹€í˜„ì§€" width="100"> | <img src="https://cdn-static.zep.us/static/assets/baked-avartar-images/2-512-32-308.png" alt="ë°•ê°€ë‚˜" width="100"> | <img src="https://cdn-static.zep.us/static/assets/baked-avartar-images/2-239-26-73.png" alt="ê¹€í˜¸ì¤€" width="100"> | <img src="https://cdn-static.zep.us/static/assets/baked-avartar-images/10-605-57-250.png" alt="ì¡°í˜œë¹ˆ" width="100"> | <img src="https://cdn-static.zep.us/static/assets/baked-avartar-images/2-46-35-137.png" alt="ìœ ì§€ì—°" width="100"> |
| **íŒ€ì¥** | **ë¶€íŒ€ì¥** | **íŒ€ì›** | **íŒ€ì›** | **ë””ìì´ë„ˆ** | **ë””ìì´ë„ˆ** |
| ë§í¬ì´ | ë¡  ìœ„ì¦ë¦¬ | í—¤ë¥´ë¯¸ì˜¨ëŠ | í•´ë¦¬í¬í„° | ë¤ë¸”ë„ì–´ | ë„ë¹„ |
| [![Github Badge](https://img.shields.io/badge/GITHUB-181717?style=for-the-badge&logo=github&logoColor=white)](https://github.com/ahh0619/HANJANHAE)<br>[![Velog Badge](https://img.shields.io/badge/VELOG-20C997?style=for-the-badge&logo=velog&logoColor=white)](https://velog.io/@hhyun19/posts) | [![Github Badge](https://img.shields.io/badge/GITHUB-181717?style=for-the-badge&logo=github&logoColor=white)](https://github.com/hyeonjy)<br>[![Velog Badge](https://img.shields.io/badge/VELOG-20C997?style=for-the-badge&logo=velog&logoColor=white)](https://velog.io/@hg024246/posts) | [![Github Badge](https://img.shields.io/badge/GITHUB-181717?style=for-the-badge&logo=github&logoColor=white)](https://github.com/ParkGana)<br>[![Tistory Badge](https://img.shields.io/badge/TISTORY-F36C00?style=for-the-badge&logo=blogger&logoColor=white)](https://dev-gana.tistory.com/) | [![Github Badge](https://img.shields.io/badge/GITHUB-181717?style=for-the-badge&logo=github&logoColor=white)](https://github.com/minjun2131)<br>[![Velog Badge](https://img.shields.io/badge/VELOG-20C997?style=for-the-badge&logo=velog&logoColor=white)](https://velog.io/@minjun23221/posts) | [![HelloThere Badge](https://img.shields.io/badge/HELLO%20THERE-FFA500?style=for-the-badge)](#)<br>[![Designer Badge](https://img.shields.io/badge/%F0%9F%8E%A8LETâ€™S%20CREATE-C084FC?style=for-the-badge&logoColor=white)](#) | [![HiGuys Badge](https://img.shields.io/badge/HI%20GUYS-FFA500?style=for-the-badge)](#)<br>[![Designer Badge](https://img.shields.io/badge/%F0%9F%8E%A8NEED%20DESIGN%3F-FF5CAC?style=for-the-badge&logoColor=white)](#) |

<br>

# ğŸ‘ª ì—­í•  ë¶„ë‹´

|         | ë‹´ë‹¹ ê¸°ëŠ¥                                                      |
|:-------:|:------------------------------------------------------------:|
| âœï¸ **ì•ˆí˜„í¬**  | **ê³µí†µ ì»´í¬ë„ŒíŠ¸**, **í™ˆ í˜ì´ì§€**, **ì£¼ë¥˜ ìƒì„¸ í˜ì´ì§€**, **ë§ˆì´ í˜ì´ì§€**     |
| ğŸ° **ê¹€í˜„ì§€**  | **ì·¨í–¥ ì¡°ì‚¬ í˜ì´ì§€**, **ì¢‹ì•„ìš” í˜ì´ì§€**, **ì¶”ì²œê²°ê³¼ í˜ì´ì§€** |
| ğŸ« **ë°•ê°€ë‚˜**  | **í™ˆ í˜ì´ì§€**, **íšŒì›ê°€ì…/ë¡œê·¸ì¸ í˜ì´ì§€**, **ë‹¤ì´ë‹ë°” ìƒì„¸ í˜ì´ì§€** |
| ğŸ•Šï¸ **ê¹€í˜¸ì¤€**  | **ê²€ìƒ‰ í˜ì´ì§€**, **ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€**                      |
| ğŸ¨ **ì¡°í˜œë¹ˆ**  | **UX/UI, ëª¨ë°”ì¼ ë° ì›¹ ë””ìì¸**                              |
| ğŸ¨ **ìœ ì§€ì—°**  | **UX/UI, ëª¨ë°”ì¼ ë° ì›¹ ë””ìì¸**                              |




<br>

### ğŸ“‹ [íŒ€ ë…¸ì…˜ ë³´ëŸ¬ê°€ê¸°](https://www.notion.so/teamsparta/b-028a734a1008456eb3bac5078f586d1d)

<br>

<br>

# ğŸ“‚ í”„ë¡œì íŠ¸ ê¸°ëŠ¥

### ğŸ€Â ì£¼ìš” ê¸°ëŠ¥

### 1. OpenAI Assistants ë§ì¶¤í˜• ì „í†µì£¼ ì¶”ì²œ

- **ì·¨í–¥ ì¡°ì‚¬**ë¥¼ í†µí•´ ì‚¬ìš©ìë³„ ì„ í˜¸ë„ë¥¼ íŒŒì•…í•˜ê³ , ê°œì¸í™”ëœ ì „í†µì£¼ ì¶”ì²œ ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.
    - ì„¤ë¬¸ì¡°ì‚¬ë¡œ ìˆ˜ì§‘í•œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, ì˜¤í”ˆAI ì–´ì‹œìŠ¤í„´ìŠ¤ íˆ´ê³¼ API/ë ˆê·¸(rag) ì‹œìŠ¤í…œì„ ì—°ë™í•˜ì—¬ ê°œì¸í™”ëœ ì „í†µì£¼ ì¶”ì²œì„ ì œê³µí•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì‚¬ìš©ì ì·¨í–¥ì„ ì •êµí•˜ê²Œ ë¶„ì„í•˜ê³ , ìµœì ì˜ ì „í†µì£¼ë¥¼ ì •í™•í•˜ê²Œ ì¶”ì²œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë‹¤ì–‘í•œ **í…Œë§ˆë³„ ì „í†µì£¼**ë¥¼ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤.
    - ê²¨ìš¸ì— ì–´ìš¸ë¦¬ëŠ” ì „í†µì£¼, ë‹¨ë§›ì´ ë‚˜ëŠ” ì „í†µì£¼, íŒŒì „ì— ì–´ìš¸ë¦¬ëŠ” ì „í†µì£¼ ë“± ë‹¤ì–‘í•œ í…Œë§ˆë¡œ ì „í†µì£¼ë¥¼ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤.
- **OpenAI Assistants**
    - ì˜¤í”ˆAI ì–´ì‹œìŠ¤í„´ìŠ¤ íˆ´ê³¼ APIÂ·ë ˆê·¸(rag) ì‹œìŠ¤í…œì„ ì—°ë™í•˜ì—¬, ì‚¬ìš©ì ì·¨í–¥ì„ ì •êµí•˜ê²Œ ë¶„ì„í•˜ê³  ìµœì ì˜ ì „í†µì£¼ë¥¼ ì •í™•í•˜ê²Œ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤. ì„¤ë¬¸ì¡°ì‚¬ë‚˜ ê²€ìƒ‰ í‚¤ì›Œë“œ ë“±ìœ¼ë¡œ ìˆ˜ì§‘ëœ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì´ìš©ìì˜ ì„ í˜¸ë„ë¥¼ ì„¸ë¶„í™”í•˜ê³ , ì‹¤ì‹œê°„ìœ¼ë¡œ ë§ì¶¤í˜• ì „í†µì£¼ë¥¼ ì•ˆë‚´í•´ ë“œë¦¬ëŠ” ê²ƒì´ íŠ¹ì§•ì…ë‹ˆë‹¤.
 
<details>
<summary><b>RAG (Retrieval-Augmented Generation)ì‹œìŠ¤í…œ</b></h4></summary>
<div markdown="1">

#### ì˜¤í”ˆAI ì–´ì‹œìŠ¤í„´ìŠ¤ë¼ëŠ” ì»¨í…ìŠ¤íŠ¸ ì°¸ì¡°ì™€ ëª¨ë¸ì´ ê²°í•©ë˜ì–´ RAG ì‹œìŠ¤í…œì´ ì ìš©ëœ ì„œë¹„ìŠ¤ apië¥¼ ì‚¬ìš©í•˜ì—¬ ê°œì¸í™”ëœ ì „í†µì£¼ ì¶”ì²œì„ ì œê³µí•©ë‹ˆë‹¤.

ì˜ˆì»¨ëŒ€ ì„¤ë¬¸ì¡°ì‚¬ë‚˜ ê²€ìƒ‰ í‚¤ì›Œë“œ ë“± ì‚¬ìš©ì ì·¨í–¥ ì •ë³´ë¥¼ ì…ë ¥ë°›ìœ¼ë©´,  
ë ˆê·¸ ì‹œìŠ¤í…œì´ ì´ë¥¼ ì ì ˆíˆ ì „ì²˜ë¦¬Â·ë¶„ë¥˜í•œ ë’¤ ì˜¤í”ˆAI ì–´ì‹œìŠ¤í„´ìŠ¤ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.

ì´í›„ ì˜¤í”ˆAI ì–´ì‹œìŠ¤í„´ìŠ¤ì—ì„œ ì‘ë‹µë°›ì€ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ë ˆê·¸ ì‹œìŠ¤í…œì´ ì·¨í•©Â·ê°€ê³µí•˜ì—¬,  
ì‚¬ìš©ìê°€ ì‰½ê²Œ ì´í•´í•˜ê³  í™œìš©í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ì œê³µí•˜ê²Œ ë©ë‹ˆë‹¤.

ì¦‰, â€œì‚¬ìš©ì ì…ë ¥ -> OpenAI Assistants (ì…ë ¥ì— ë”°ë¥¸ context ì°¸ì¡° -> ëª¨ë¸ ì‘ë‹µ) -> ìµœì¢… ì‚¬ìš©ìâ€ì˜ íë¦„ìœ¼ë¡œ,  
ì„œë¹„ìŠ¤ ì „ë°˜ì˜ ë°ì´í„° ì²˜ë¦¬ë¥¼ ì›í™œí•˜ê²Œ ë•ëŠ” ì¤‘ìš”í•œ ì—°ê²°ê³ ë¦¬ë¼ê³  ë³´ì‹œë©´ ë©ë‹ˆë‹¤.

<br>
</div>
</details>


        

### 2. ì „í†µì£¼ ë° ë‹¤ì´ë‹ë°” ìƒì„¸ ì •ë³´

- ì „í†µì£¼ ì¹´ë“œë¥¼ í´ë¦­í•˜ë©´ **ë„ìˆ˜, ë§›, ì§€ì—­, í˜ì–´ë§** ë“± ì„¸ë¶€ ì •ë³´ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ë‹¤ì´ë‹ë°” ìƒì„¸ í˜ì´ì§€ì—ì„œ **ì£¼ì†Œ, ì˜ì—…ì‹œê°„, ëŒ€í‘œ ë©”ë‰´** ë“±ì„ ë³¼ ìˆ˜ ìˆì–´, ì „í†µì£¼ì™€ í•¨ê»˜ ì¦ê¸¸ ìˆ˜ ìˆëŠ” ì¥ì†Œë¥¼ ì†ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 3. ì¢‹ì•„ìš”

- ì „í†µì£¼ì— **ì¢‹ì•„ìš”**ë¥¼ ëˆ„ë¥´ê³  ì·¨ì†Œí•˜ëŠ” í† ê¸€ í˜•íƒœ ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤.
- ì¢‹ì•„ìš” ìˆ˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ì¸ê¸° ì „í†µì£¼ ìˆœìœ„ë„ ì œê³µë©ë‹ˆë‹¤.
- **ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ìƒíƒœ**ì—ì„œ ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥´ë©´, ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì•ˆë‚´í•´ í¸ë¦¬í•œ ì„œë¹„ìŠ¤ ì´ìš©ì„ ë•ìŠµë‹ˆë‹¤.

### 4. ê²€ìƒ‰ ë° í•„í„°

- ì›í•˜ëŠ” ì „í†µì£¼ë¥¼ **í‚¤ì›Œë“œ ê²€ìƒ‰**ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì¢…ë¥˜, ë„ìˆ˜, ë§›(ë‹¨ë§›Â·ì‹ ë§›Â·ì²­ëŸ‰ê°Â·ë°”ë””ê°)** ë“± ë‹¤ì–‘í•œ ì¡°ê±´ë³„ í•„í„°ë¥¼ ì œê³µí•´, ì„¸ë°€í•˜ê²Œ ì·¨í–¥ì— ë§ëŠ” ì „í†µì£¼ë¥¼ íƒìƒ‰ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 5. ë§ˆì´í˜ì´ì§€

- **í”„ë¡œí•„ ì´ë¯¸ì§€, ë‹‰ë„¤ì„** ë“±ì˜ íšŒì› ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ë‚´ ì·¨í–¥ ê´€ë¦¬**ë¥¼ í†µí•´ ì·¨í–¥ ì„¤ì •ì„ ì¶”ê°€Â·ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ë¡œê·¸ì•„ì›ƒ** ë° **íšŒì› íƒˆí‡´** ê¸°ëŠ¥ì„ ì œê³µí•´ í¸ë¦¬í•œ íšŒì› ê´€ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 6. ë¦¬ë·° & ê³µìœ í•˜ê¸°

- ì „í†µì£¼ ìƒì„¸ í˜ì´ì§€ì—ì„œ ë¦¬ë·°(ë‚´ìš©, ë³„ì )ë¥¼ ì‘ì„±í•´ ë‹¤ë¥¸ ì‚¬ìš©ìì™€ ì†Œí†µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ë¬´í•œ ìŠ¤í¬ë¡¤** í˜•íƒœë¡œ ë¦¬ë·°ë¥¼ ë³¼ ìˆ˜ ìˆì–´ í¸ë¦¬í•˜ë©°, ë‚´ ë¦¬ë·°ëŠ” ìˆ˜ì •Â·ì‚­ì œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- **ê³µìœ í•˜ê¸°** ê¸°ëŠ¥ì„ í†µí•´ ì¹´ì¹´ì˜¤í†¡ ë“± ë‹¤ì–‘í•œ ì±„ë„ë¡œ ì†ì‰½ê²Œ ì½˜í…ì¸ ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<br>

<br>

### ğŸ€Â ë¶€ê°€ ê¸°ëŠ¥

### í‘¸ì‹œ ì•Œë¦¼ (PWA & FCM)

- **ìƒˆ ì „í†µì£¼ê°€ ë“±ë¡**ë˜ë©´, ë¸Œë¼ìš°ì €ì—ì„œ **í¬ê·¸ë¼ìš´ë“œÂ·ë°±ê·¸ë¼ìš´ë“œ ì•Œë¦¼**ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë„ì°©í•©ë‹ˆë‹¤.
- ì•Œë¦¼ í´ë¦­ ì‹œ **í™ˆ í˜ì´ì§€**ë¡œ ì´ë™í•´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- PWA ì§€ì›ìœ¼ë¡œ **ì•± ì„¤ì¹˜ ì—†ì´** ëª¨ë°”ì¼ í™˜ê²½ì—ì„œë„ ì•Œë¦¼ì„ ë°›ì•„ë³¼ ìˆ˜ ìˆì–´, ìµœì‹  ì •ë³´ë¥¼ ë†“ì¹˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- **Next PWA + Firebase Cloud Messaging(FCM)**
    
<details>
<summary><b>Next PWA + FCM</b></h4></summary>
<div markdown="1">
  
### Next PWA

1. **ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR) ë° ì •ì  ì‚¬ì´íŠ¸ ìƒì„±(SSG) ì§€ì›**
      - ê²€ìƒ‰ ì—”ì§„ ìµœì í™”(SEO)ì™€ ë¹ ë¥¸ ì´ˆê¸° ë¡œë”©ì„ ìœ„í•´ SSR, SSGê°€ í•„ìˆ˜ì ì´ì—ˆìŠµë‹ˆë‹¤.
      - Next.jsëŠ” React ê¸°ë°˜ìœ¼ë¡œ SSRê³¼ SSGë¥¼ ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆì–´, ì´ˆê¸° í˜ì´ì§€ ë¡œë”© ì†ë„ì™€ SEO íš¨ê³¼ë¥¼ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. **PWA íŠ¹ì„± êµ¬í˜„**
      - ì˜¤í”„ë¼ì¸ ì§€ì›, í™ˆ í™”ë©´ì— ì•± ì„¤ì¹˜, ì›¹ í‘¸ì‹œ ì•Œë¦¼ ë“± ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ê¸° ìœ„í•´ PWA ê¸°ëŠ¥ì„ ë„ì…í–ˆìŠµë‹ˆë‹¤.
      - Next.jsëŠ” ì„œë¹„ìŠ¤ ì›Œì»¤(Workbox ë“±) ì„¤ì •ì´ë‚˜ ë§¤ë‹ˆí˜ìŠ¤íŠ¸(Manifest) íŒŒì¼ êµ¬ì„± ë“± PWA ê´€ë ¨ ì„¤ì •ì´ ë¹„êµì  ê°„í¸í•©ë‹ˆë‹¤.
3. **ê°œë°œ ìƒì‚°ì„± ë° í™•ì¥ì„±**
      - ë¼ìš°íŒ…, ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ë“± Next.jsê°€ ì œê³µí•˜ëŠ” êµ¬ì¡°í™”ëœ ê°œë°œ ë°©ì‹ìœ¼ë¡œ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      - ì»¤ë®¤ë‹ˆí‹°ì™€ ìƒíƒœê³„ê°€ í™œë°œí•´, ì—ëŸ¬ë‚˜ ê¸°ëŠ¥ êµ¬í˜„ ì‹œ ì°¸ê³  ìë£Œê°€ í’ë¶€í•©ë‹ˆë‹¤.
    
### Firebase Cloud Messaging(FCM)
    
1. **í‘¸ì‹œ ì•Œë¦¼ ê¸°ëŠ¥ êµ¬í˜„ì˜ ìš©ì´ì„±**
      - ì‚¬ìš©ìì—ê²Œ **ì‹¤ì‹œê°„ ì•Œë¦¼**(ì „í†µì£¼ ì‹ ê·œ ë“±ë¡, ì´ë²¤íŠ¸, ê³µì§€ ë“±)ì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ í‘¸ì‹œ ë©”ì‹œì§• ê¸°ëŠ¥ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.
      - FCMì€ ë¸Œë¼ìš°ì €(ì›¹)ì™€ ëª¨ë°”ì¼(ì•ˆë“œë¡œì´ë“œ/iOS) ëª¨ë‘ ì§€ì›í•˜ë©°, ì„¤ì •ê³¼ ì—°ë™ ê³¼ì •ì´ ë¹„êµì  ê°„ë‹¨í•´ ë¹ ë¥´ê²Œ MVPë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
2. **ê¸€ë¡œë²Œ ì¸í”„ë¼ ë° ì‹ ë¢°ë„**
      - êµ¬ê¸€ í´ë¼ìš°ë“œ ê¸°ë°˜ ì¸í”„ë¼ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ ìš´ì˜ì—ë„ ì•ˆì •ì ì…ë‹ˆë‹¤.
      - ëŒ€ëŸ‰ì˜ ë©”ì‹œì§€ íŠ¸ë˜í”½ ì²˜ë¦¬ ê²½í—˜ì´ í’ë¶€í•´, ìŠ¤ì¼€ì¼ë§ ë¬¸ì œì— ëŒ€í•œ ë¶€ë‹´ì´ ì ìŠµë‹ˆë‹¤.
3. **ë‹¤ë¥¸ Firebase ì„œë¹„ìŠ¤ì™€ì˜ ì—°ê³„ ê°€ëŠ¥ì„±**
      - í•„ìš” ì‹œ Firebase Authentication, Cloud Functions ë“± ë‹¤ë¥¸ Firebase ì„œë¹„ìŠ¤ë¥¼ ì†ì‰½ê²Œ ì—°ë™í•  ìˆ˜ ìˆì–´ í™•ì¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.

<br>
</div>
</details>


<br>

# ğŸ“… ê°œë°œê¸°ê°„
### 2024. 12. 31. ~ 2025. 02. 06.

<br>

# âš™ï¸ ê¸°ìˆ ìŠ¤íƒ

<div>

  <!-- Language -->
  <h3>âœ”ï¸ Language</h3>
  <img src="https://img.shields.io/badge/Typescript-3178C6?style=for-the-badge&logo=Typescript&logoColor=white" alt="TypeScript Badge">

  <!-- Framework & Libraries -->
  <h3>âœ”ï¸ Framework & Libraries</h3>
  <img src="https://img.shields.io/badge/Next.js-000000?style=for-the-badge&logo=next.js&logoColor=white" alt="Next.js Badge">
  <img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=white" alt="React Badge">
  <img src="https://img.shields.io/badge/Tanstack%20Query-FF4154?style=for-the-badge&logo=TanstackQuery&logoColor=white" alt="TanStack Query Badge">
  <img src="https://img.shields.io/badge/zustand-FF4154?style=for-the-badge&logo=TanstackQuery&logoColor=white" alt="Zustand Badge">
  <img src="https://img.shields.io/badge/tailwind%20css-06B6D4?style=for-the-badge&logo=tailwindcss&logoColor=white" alt="Tailwind CSS Badge">
  <br>
  <img src="https://img.shields.io/badge/supabase-3FCF8E?style=for-the-badge&logo=supabase&logoColor=white" alt="Supabase Badge">
  <img src="https://img.shields.io/badge/firebase-FFCA28?style=for-the-badge&logo=firebase&logoColor=white" alt="Firebase Badge">
  <img src="https://img.shields.io/badge/firebase%20admin-FFCA28?style=for-the-badge&logo=firebase&logoColor=white" alt="Firebase Admin Badge">
  <img src="https://img.shields.io/badge/Next%20PWA-000000?style=for-the-badge&logo=next.js&logoColor=white" alt="Next PWA Badge">

  <!-- Monitoring & Error Tracking -->
  <h3>âœ”ï¸ Monitoring & Error Tracking</h3>
  <img src="https://img.shields.io/badge/Sentry-362D59?style=for-the-badge&logo=Sentry&logoColor=white" alt="Sentry Badge">

  <!-- Hosting & Deployment -->
  <h3>âœ”ï¸ Hosting & Deployment</h3>
  <img src="https://img.shields.io/badge/Vercel-000000?style=for-the-badge&logo=vercel&logoColor=white" alt="Vercel Badge">

  <!-- Version Control -->
  <h3>âœ”ï¸ Version Control</h3>
  <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white" alt="Git Badge">
  <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white" alt="GitHub Badge">

  <!-- API -->
  <h3>âœ”ï¸ API</h3>
  <img src="https://img.shields.io/badge/kakaomap-FFCD00?style=for-the-badge&logo=kakao&logoColor=white" alt="KakaoMap Badge">
  <img src="https://img.shields.io/badge/OPEN%20AI%20Assistants-412991?style=for-the-badge&logo=OpenAI&logoColor=white" alt="OPEN AI Assistants Badge">

</div>
<br>

<br>

# ğŸš€ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

![undefined (3)](https://github.com/user-attachments/assets/9e8423d0-0c53-44d4-9131-0415bee54296)


<br>

<br>

# ğŸ”– ERD

![ìŠ¤í¬ë¦°ìƒ· 2025-02-06 144523](https://github.com/user-attachments/assets/1d8d561b-41d3-4df4-9ae0-5b27ebdcfc66)

<br>

<br>

# ğŸ“– í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ğŸ“¦ HANJANHAE
â”œâ”€ âš™ï¸ .eslintrc.json
â”œâ”€ âš™ï¸ .gitignore
â”œâ”€ âš™ï¸ .prettierrc
â”œâ”€ ğŸ“ .vscode
â”‚  â””â”€ âš™ï¸ settings.json
â”œâ”€ âš™ï¸ next.config.mjs
â”œâ”€ âš™ï¸ package.json
â”œâ”€ âš™ï¸ postcss.config.mjs
â”œâ”€ ğŸ“ public
â”‚  â”œâ”€ ğŸ“ assets
â”‚  â”‚  â””â”€ ğŸ“ icons
â”‚  â”œâ”€ ğŸ“ icons
â”‚  â”œâ”€ ğŸ“„ service-worker.js
â”‚  â”œâ”€ ğŸ“„ service-worker.js.map
â”‚  â”œâ”€ ğŸ“„ workbox-1bb06f5e.js
â”‚  â””â”€ ğŸ“„ workbox-1bb06f5e.js.map
â”œâ”€ ğŸ“„ README.md
â”œâ”€ âš™ï¸ sentry.client.config.ts
â”œâ”€ âš™ï¸ sentry.edge.config.ts
â”œâ”€ âš™ï¸ sentry.server.config.ts
â”œâ”€ ğŸ“ src
â”‚  â”œâ”€ ğŸ“ app
â”‚  â”‚  â”œâ”€ ğŸ“ actions
â”‚  â”‚  â”œâ”€ ğŸ“ api
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ auth
â”‚  â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ signin
â”‚  â”‚  â”‚  â”‚  â””â”€ ğŸ“ social
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ drink
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ drinks
â”‚  â”‚  â”‚  â”‚  â””â”€ ğŸ“ new
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ recommend
â”‚  â”‚  â”‚  â””â”€ ğŸ“ sentry-example-api
â”‚  â”‚  â”œâ”€ ğŸ“ drink
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ [id]
â”‚  â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ error.tsx
â”‚  â”‚  â”‚  â”‚  â””â”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚  â””â”€ ğŸ“ _components
â”‚  â”‚  â”œâ”€ ğŸ“„ global-error.tsx
â”‚  â”‚  â”œâ”€ ğŸ“„ layout.tsx
â”‚  â”‚  â”œâ”€ ğŸ“ like
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚  â””â”€ ğŸ“ _components
â”‚  â”‚  â”œâ”€ ğŸ“„ manifest.ts
â”‚  â”‚  â”œâ”€ ğŸ“ mypage
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ error.tsx
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚  â””â”€ ğŸ“ _components
â”‚  â”‚  â”œâ”€ ğŸ“„ not-found.tsx
â”‚  â”‚  â”œâ”€ ğŸ“„ page.tsx
â”‚  â”‚  â”œâ”€ ğŸ“ password
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ check
â”‚  â”‚  â”‚  â”‚  â””â”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ reset
â”‚  â”‚  â”‚  â”‚  â””â”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚  â””â”€ ğŸ“ _components
â”‚  â”‚  â”œâ”€ ğŸ“ place
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ [id]
â”‚  â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ error.tsx
â”‚  â”‚  â”‚  â”‚  â””â”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚  â””â”€ ğŸ“ _components
â”‚  â”‚  â”œâ”€ ğŸ“ preferences
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ customization
â”‚  â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ error.tsx
â”‚  â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚  â”‚  â””â”€ ğŸ“ _components
â”‚  â”‚  â”‚  â””â”€ ğŸ“ result
â”‚  â”‚  â”‚     â”œâ”€ ğŸ“„ error.tsx
â”‚  â”‚  â”‚     â”œâ”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚     â””â”€ ğŸ“ _components
â”‚  â”‚  â”œâ”€ ğŸ“ providers
â”‚  â”‚  â”œâ”€ ğŸ“„ providers.tsx
â”‚  â”‚  â”œâ”€ ğŸ“ search
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ error.tsx
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚  â””â”€ ğŸ“ _components
â”‚  â”‚  â”‚     â””â”€ ğŸ“ _ui
â”‚  â”‚  â”œâ”€ ğŸ“ sentry-example-page
â”‚  â”‚  â”‚  â””â”€ ğŸ“„ page.tsx
â”‚  â”‚  â”œâ”€ ğŸ“ signin
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚  â””â”€ ğŸ“ _components
â”‚  â”‚  â”œâ”€ ğŸ“ signup
â”‚  â”‚  â”‚  â”œâ”€ ğŸ“„ page.tsx
â”‚  â”‚  â”‚  â””â”€ ğŸ“ _components
â”‚  â”‚  â””â”€ ğŸ“ survey
â”‚  â”‚     â”œâ”€ ğŸ“„ error.tsx
â”‚  â”‚     â”œâ”€ ğŸ“„ page.tsx
â”‚  â”‚     â””â”€ ğŸ“ _components
â”‚  â”œâ”€ ğŸ“ components
â”‚  â”‚  â”œâ”€ ğŸ“ auth
â”‚  â”‚  â”œâ”€ ğŸ“ common
â”‚  â”‚  â”œâ”€ ğŸ“ home
â”‚  â”‚  â””â”€ ğŸ“ layout
â”‚  â”œâ”€ ğŸ“ constants
â”‚  â”œâ”€ ğŸ“ firebase
â”‚  â”œâ”€ ğŸ“ fonts
â”‚  â”œâ”€ ğŸ“ hooks
â”‚  â”‚  â”œâ”€ ğŸ“ auth
â”‚  â”‚  â”œâ”€ ğŸ“ common
â”‚  â”‚  â”œâ”€ ğŸ“ like
â”‚  â”‚  â”œâ”€ ğŸ“ mypage
â”‚  â”‚  â”œâ”€ ğŸ“ preference
â”‚  â”‚  â”œâ”€ ğŸ“ result
â”‚  â”‚  â”œâ”€ ğŸ“ review
â”‚  â”‚  â”œâ”€ ğŸ“ search
â”‚  â”‚  â””â”€ ğŸ“ survey
â”‚  â”œâ”€ ğŸ“„ instrumentation.ts
â”‚  â”œâ”€ ğŸ“ lib
â”‚  â”œâ”€ ğŸ“„ middleware.ts
â”‚  â”œâ”€ ğŸ“ store
â”‚  â”œâ”€ ğŸ“ styles
â”‚  â”œâ”€ ğŸ“ types
â”‚  â””â”€ ğŸ“ utils
â”‚     â”œâ”€ ğŸ“ auth
â”‚     â”œâ”€ ğŸ“ common
â”‚     â”œâ”€ ğŸ“ drink
â”‚     â”œâ”€ ğŸ“ filter
â”‚     â”œâ”€ ğŸ“ recommend
â”‚     â”œâ”€ ğŸ“ review
â”‚     â”œâ”€ ğŸ“ share
â”‚     â””â”€ ğŸ“ supabase
â”œâ”€ âš™ï¸ tailwind.config.ts
â”œâ”€ âš™ï¸ tsconfig.json
â””â”€ ğŸ“„ yarn.lock
```

<br>

<br>

# íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

<details>
<summary><b>ë¡œê·¸ì¸ ì„±ê³µ ì‹œ zustandì— ìœ ì € ì •ë³´ê°€ ì œëŒ€ë¡œ ì €ì¥ë˜ì§€ ì•ŠëŠ” ì´ìŠˆ</b></h4></summary>
<div markdown="1">

### **ë¬¸ì œ ë°œìƒ**

ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ìœ ì € ì •ë³´ë¥¼ zustandì— ì €ì¥í•˜ê³  ì´í›„ ìœ ì € ì •ë³´ê°€ í•„ìš”í•  ë•Œë§ˆë‹¤ ë§¤ë²ˆ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ zustandì— ì €ì¥ëœ ìœ ì € ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ëŠ”ë°, ë¡œê·¸ì¸ì„ ì„±ê³µí–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ìœ ì € ì •ë³´ë¥¼ ì œëŒ€ë¡œ ë°›ì•„ì˜¤ì§€ ëª»í•˜ê³  ìƒˆë¡œê³ ì¹¨ì„ í•´ì•¼ ë¹„ë¡œì†Œ ìœ ì € ì •ë³´ë¥¼ ë°›ì•„ì˜¤ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ë‹¤.

### ì›ì¸ íŒŒì•…

```jsx
'use client';

import { createContext, useContext, useEffect, useState } from 'react';

import { useAuthStore } from '@/store/authStore';
import { SignInDataType } from '@/types/Auth';

import { fetchUser, signout } from '../actions/auth';

const AuthContext = createContext(null);

export const AuthProvider = ({ children }) => {
  const { user, setUser, removeUser } = useAuthStore();

  const [isAuthenticated, setIsAuthenticated] = useState(false);

  useEffect(() => {
    const fetchSignedUser = async () => {
      try {
        setUser(await fetchUser());
        setIsAuthenticated(true);
      } catch (error) {
        setUser(null);
        setIsAuthenticated(false);
      }
    };

    fetchSignedUser();
  }, [isAuthenticated]);

/* ë¡œê·¸ì¸ */const login = async (values: SignInDataType) => {
    try {
      await signin();
      setIsAuthenticated(true);
    } catch (error) {
      throw error;
    }
  };

/* ë¡œê·¸ì•„ì›ƒ */const logout = async () => {
    try {
      await signout();
      removeUser();
      setIsAuthenticated(false);
    } catch (error) {
      throw error;
    }
  };

  return (
    <AuthContext.Provider value={{ user, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);
```

```jsx
export const fetchUser = async (): Promise<UserType | null> => {
  const supabase = createClient();

  const {
    data: { user },
    error: authError,
  } = await supabase.auth.getUser();

  if (authError || !user) {
    return null;
  }

  const { data: userData, error: userError } = await supabase
    .from('users')
    .select('*')
    .eq('id', user.id)
    .single();

  if (userError || !userData) {
    throw new Error(userError.message || 'ìœ ì € ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
  }

  return {
    id: userData.id,
    nickname: userData.nickname,
    profile_image: userData.profile_image || null,
    agree_terms: userData.agree_terms,
  };
};
```

ê¸°ì¡´ ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ ë‹¤ìŒ 3ê°€ì§€ ë™ì‘ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ fetchUser()ì˜ ê²°ê³¼ê°’ì„ zustandì˜ userì— ë°˜ì˜í•´ì£¼ê³  ìˆë‹¤.

- ì„œë¹„ìŠ¤ì— ì²˜ìŒ ì ‘ì†í–ˆì„ ë•Œ
- í™”ë©´ì´ ìƒˆë¡œê³ ì¹¨ ëì„ ë•Œ
- isAuthenticated ê°’ì´ ë³€ê²½ë  ë•Œ

ì½”ë“œì—ëŠ” ë¬¸ì œê°€ ì—†ëŠ” ê²ƒ ê°™ì€ë° ì™œ ì›í•˜ëŠ”ëŒ€ë¡œ ë™ì‘ì„ ì•ˆí•˜ì§€? ë¼ëŠ” ìƒê°ì„ í•˜ë©´ì„œ fetchUser() ì½”ë“œë¥¼ ì‚´í´ë³´ëŠ” ìˆœê°„ ì›ì¸ì„ ì•Œê²Œ ë˜ì—ˆë‹¤. fetchUser() ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ getUser()ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê±°ë‚˜ user ë°ì´í„°ë¥¼ ë°˜í™˜í•´ì£¼ì§€ ì•ŠëŠ” ê²½ìš° ì—ëŸ¬ê°€ ì•„ë‹Œ null ê°’ì„ ë°˜í™˜í•˜ê³  ìˆë‹¤.

ì¦‰, fetchUser()ê°€ nullì„ ë°˜í™˜í•˜ê²Œ ë˜ë©´ ì—ëŸ¬ê°€ ë‚˜ëŠ” ìƒí™©ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— isAuthenticatedì— trueë¥¼ ì ìš©í•´ì£¼ê²Œ ë˜ê³ , ê·¸ë ‡ê²Œ ë˜ë©´ ë¡œê·¸ì¸ì„ ì„±ê³µí•´ë„ isAuthenticatedê°€ ì´ë¯¸ trueì´ê¸° ë•Œë¬¸ì— useEffectê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•„ì„œ setUser()ê°€ ì‹¤í–‰ë˜ì§€ ì•Šê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

### í•´ê²°

```jsx
useEffect(() => {
    const fetchSignedUser = async () => {
        try {
            const currentUser = await fetchUser();
            setUser(currentUser);
            setIsAuthenticated(!!currentUser);
        } catch (error) {
            setUser(null);
            setIsAuthenticated(false);
        }
    };

    fetchSignedUser();
}, [isAuthenticated]);
```

ìµœì¢…ì ìœ¼ë¡œ, ë‹¨ìˆœíˆ fetchUser()ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ë¬´ì¡°ê±´ isAuthenticatedë¥¼ trueë¡œ ì ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°˜í™˜ê°’ì— ë”°ë¼ ì ìš©í•´ì¤Œìœ¼ë¡œì¨ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.

<br>
</div>
</details>

<details>
<summary><b>ë°°í¬ ë§í¬ì—ì„œ ë¡œê·¸ì¸ì´ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì´ìŠˆ</b></h4></summary>
<div markdown="1">

### **ë¬¸ì œ ë°œìƒ**

MVP ê¸°ëŠ¥ ê°œë°œì„ ë§ˆë¬´ë¦¬í•˜ê³  ì¤‘ê°„ ë°œí‘œë¥¼ ìœ„í•´ì„œ vercelì— ë°°í¬ë¥¼ í•˜ì˜€ëŠ”ë°, ë¡œì»¬ì—ì„œëŠ” ë¬¸ì œì—†ì´ ë™ì‘í•˜ë˜ ë¡œê·¸ì¸ ê¸°ëŠ¥ì´ ë°°í¬ ë§í¬ì—ì„œëŠ” ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” í˜„ìƒì´ ë°œìƒí•˜ì˜€ë‹¤.

### ì›ì¸ íŒŒì•…

ê°€ì¥ ë¨¼ì € region ë¬¸ì œê°€ ì•„ë‹ê¹Œ ì‹¶ì–´ì„œ í™•ì¸í•´ë´¤ëŠ”ë° vercelê³¼ supabase ëª¨ë‘ ì„œìš¸ë¡œ ì˜ ì„¤ì •ë˜ì–´ ìˆì—ˆë‹¤. ê³„ì†í•´ì„œ ì›ì¸ì„ ì°¾ì•„ë³´ë˜ ì¤‘ ë¹„ìŠ·í•œ ë¬¸ì œë¥¼ ê²ªê³  ìˆëŠ” stack overflowë¥¼ ë°œê²¬í•˜ì˜€ê³ , server actionì„ route handlerë¡œ ë³€ê²½í•´ë³´ê¸°ë¡œ í•˜ì˜€ë‹¤.

https://stackoverflow.com/questions/78078248/dalle3-request-in-next-js-14-server-actions-leading-to-function-invocation-timeo

### í•´ê²°

```jsx
/* ë³€ê²½ ì „ server action */

export const signin = async (data: SignInDataType): Promise<void> => {
  const supabase = createClient();

  const { email, password } = data;

  const { error } = await supabase.auth.signInWithPassword({
    email,
    password,
  });

  if (error) throw new Error(error.message);

  redirect('/');
};
```

```jsx
/* ë³€ê²½ í›„ route handler */

export async function POST(request: Request) {
  const supabase = createClient();

  const { email, password } = await request.json();

  try {
    const { error } = await supabase.auth.signInWithPassword({
      email,
      password,
    });

    if (error) {
      return NextResponse.json({ errorMessage: error.message });
    }

    return NextResponse.json({ successMessage: 'ë¡œê·¸ì¸ ì„±ê³µ' });
  } catch (error: any) {
    return NextResponse.json({ errorMessage: 'server error' });
  }
}
```

route handlerë¥¼ ì‚¬ìš©í•˜ë‹ˆ ë¬¸ì œê°€ í•´ê²°ë˜ì—ˆë‹¤. ì½œë“œ ìŠ¤íƒ€íŠ¸ë¡œ ì¸í•´ route handlerë³´ë‹¤ëŠ” server actionì˜ ì†ë„ê°€ ë¹ ë¥´ë‹¤ê³  ì•Œê³  ìˆì—ˆëŠ”ë° ì •í™•íˆ ë°˜ëŒ€ë˜ëŠ” ê²°ê³¼ê°€ ë‚˜ì™”ê³ , 30ì´ˆ ê°€ê¹Œì´ ê±¸ë¦¬ë˜ ë¡œê·¸ì¸ ê¸°ëŠ¥ì´ server actionì„ route handlerë¡œ ë³€ê²½í•´ì£¼ëŠ” ê²ƒë§Œìœ¼ë¡œ í•´ê²°ëœ ì´ìœ ê°€ ê¶ê¸ˆí•´ì¡Œë‹¤. ëª…í™•í•œ ì´ìœ ë¥¼ ì•Œì•„ë‚´ì§€ëŠ” ëª»í–ˆì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ê°€ ì•„ë‹ê¹Œ ì¶”ì¸¡í•´ë³´ì•˜ë‹¤.

- ì—£ì§€(Edge)ì™€ Node.js(Serverless) í™˜ê²½ì˜ ì°¨ì´
    - ì—£ì§€ ëŸ°íƒ€ì„ì€ ë¹ ë¥¸ ì‘ë‹µì„ ìœ„í•´ ê²½ëŸ‰í™”ëœ í™˜ê²½ì—ì„œ ë™ì‘ì„ í•˜ê¸° ë•Œë¬¸ì— Node.jsì˜ ì¼ë¶€ ëª¨ë“ˆì´ë‚˜ ë„¤ì´í‹°ë¸Œ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê±°ë‚˜ ë™ì‘ ë°©ì‹ì´ ë‹¬ë¼ì„œ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆìŒ
    - Supabase, OpenAI ê°™ì€ ì¼ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì—£ì§€ ëŸ°íƒ€ì„ì— ì™„ë²½íˆ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ë“¤ì´ ì¢…ì¢… ë³´ê³ ë¨
    - WebSocket, ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë°, íŠ¹ì • ë…¸ë“œ ë‚´ì¥ ëª¨ë“ˆ ì˜ì¡´ì„± ë“±ì´ ìˆëŠ” ê²½ìš° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
- íƒ€ì„ì•„ì›ƒ(Timeout) ì •ì±… ì°¨ì´
    - Vercelì˜ ì—£ì§€ í•¨ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë§¤ìš° ì§§ì€ íƒ€ì„ì•„ì›ƒì´ ì„¤ì •ë˜ì–´ ìˆìŒ
    - Node.js í•¨ìˆ˜ëŠ” ì—£ì§€ í•¨ìˆ˜ë³´ë‹¤ ì¡°ê¸ˆ ë” ê¸´ íƒ€ì„ì•„ì›ƒì´ë‚˜ ë‹¤ë¥¸ ì •ì±…ì„ ì ìš©ë°›ì„ ìˆ˜ ìˆìŒ

<br>
</div>
</details>

<details>
<summary><b>throw new Error ë™ì‘í•˜ì§€ ì•ŠëŠ” ì´ìŠˆ</b></h4></summary>
<div markdown="1">

### ë¬¸ì œë°œìƒ

Next.jsì˜ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ handleSubmit í•¨ìˆ˜ ë‚´ì—ì„œ ë°œìƒí•œ ì˜ˆì™¸ë¥¼ throw new Error(error.message)ë¡œ ë˜ì¡Œìœ¼ë‚˜, ì˜ˆìƒê³¼ ë‹¬ë¦¬ Next.jsì˜ error.tsxë¡œ ë„˜ì–´ê°€ì§€ ì•Šê³  ë¸Œë¼ìš°ì € ì½˜ì†”ì— Uncaught (in promise) Error: ... ë§Œ ì¶œë ¥ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.

```tsx
const handleSubmit = async () => {
  try {
    if (mode === 'edit') {
      await updateSurvey({ surveyData: preferences, userId: user.id });
      handleOpenModal();
    } else {
      await saveSurveyData(preferences);
      router.push('/preferences/result');
    }
  } catch (error) {
    throw new Error(error.message); // `error.tsx`ë¡œ ë„˜ì–´ê°€ì§€ ì•ŠìŒ
  }
};

```
error.tsxë¡œ ë„˜ì–´ê°€ì§€ ì•Šê³  ë¸Œë¼ìš°ì € ì½˜ì†”ì— Uncaught (in promise) ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ì¶œë ¥ë¨.
<br/>

### ì›ì¸ ë¶„ì„

1. **ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ëŠ” ë Œë”ë§ ê³¼ì •ì—ì„œ ë°œìƒí•œ ê²ƒì´ ì•„ë‹ˆë‹¤.**
    - Next.jsì˜ error.tsxëŠ” Reactì˜ Error Boundaryë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ ë Œë”ë§ ê³¼ì • ì¤‘ ë°œìƒí•œ ì—ëŸ¬ë§Œ ê°ì§€í•  ìˆ˜ ìˆìŒ.
    - í•˜ì§€ë§Œ handleSubmit ë‚´ë¶€ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ ì‹¤í–‰ëœ ë¹„ë™ê¸° ì½”ë“œì˜ ì¼ë¶€ì´ë©°, Reactì˜ Error BoundaryëŠ” ì´ëŸ¬í•œ ë¹„ë™ê¸° ì—ëŸ¬ë¥¼ ì¡ì§€ ì•ŠìŒ.
2. **ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ëŠ” Promise.reject í˜•íƒœë¡œ ì²˜ë¦¬ëœë‹¤.**
    - ë¹„ë™ê¸° í•¨ìˆ˜(async/await) ë‚´ë¶€ì—ì„œ throwí•˜ë©´, JavaScript ì—”ì§„ì€ ì´ë¥¼ Promise.reject(new Error(...)) í˜•íƒœë¡œ ì²˜ë¦¬í•¨.
    - Reactì˜ ë Œë”ë§ ê³¼ì •ê³¼ ë³„ê°œì˜ ë¹„ë™ê¸° ì½œ ìŠ¤íƒì—ì„œ ë°œìƒí•œ ì—ëŸ¬ì´ë¯€ë¡œ Error Boundaryì—ì„œ ê°ì§€í•  ìˆ˜ ì—†ìŒ.
3. **ë Œë”ë§ ê³¼ì •ì—ì„œ throwí•´ì•¼ë§Œ error.tsxê°€ ì‘ë™í•œë‹¤.**
    - Next.jsì—ì„œ error.tsx(í˜¹ì€ Reactì˜ ErrorBoundary)ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ëŠ” ë™ì•ˆ ë°œìƒí•œ ì˜ˆì™¸ë¥¼ ê°ì§€í•  ìˆ˜ ìˆìŒ.
    - ë”°ë¼ì„œ catch ë¸”ë¡ì—ì„œ ì§ì ‘ throwí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ê³¼ì • ì¤‘ì— ì—ëŸ¬ë¥¼ ë˜ì§€ë„ë¡ í•´ì•¼ í•¨.

### í•´ê²°

ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œ throwí•˜ëŠ” ëŒ€ì‹ , ì—ëŸ¬ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•œ í›„, ë Œë”ë§ ê³¼ì •ì—ì„œ throw í•˜ë„ë¡ ìˆ˜ì •í–ˆë‹¤.

```tsx
import { useState } from 'react';

const MyComponent = () => {
  const [submitError, setSubmitError] = useState(null);

  const handleSubmit = async () => {
    try {
      if (mode === 'edit') {
        await updateSurvey({ surveyData: preferences, userId: user.id });
        handleOpenModal();
      } else {
        await saveSurveyData(preferences);
        router.push('/preferences/result');
      }
    } catch (error) {
      setSubmitError(error.message); // ìƒíƒœ ì—…ë°ì´íŠ¸
    }
  };

  if (submitError) throw new Error(submitError); // ë Œë”ë§ ê³¼ì •ì—ì„œ ì—ëŸ¬ ë°œìƒ

  return <button onClick={handleSubmit}>ì œì¶œ</button>;
};

```
handleSubmit í•¨ìˆ˜ì—ì„œ setSubmitError(error.message);ê°€ ì‹¤í–‰ë˜ë©´, submitError ìƒíƒœê°€ ì—…ë°ì´íŠ¸ëœë‹¤. ìƒíƒœê°€ ë³€ê²½ë˜ë©´ì„œ ReactëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¬ë Œë”ë§í•˜ê³ , ì´ ê³¼ì •ì—ì„œ if (submitError) throw new Error(submitError);ê°€ ì‹¤í–‰ëœë‹¤. ì´ë ‡ê²Œ í•´ì„œ ì—ëŸ¬ê°€ ë Œë”ë§ ì¤‘ì— ë°œìƒí•œ ê²ƒìœ¼ë¡œ ì¸ì‹ë˜ì–´, Next.jsì˜ error.tsxë¡œ ì •ìƒì ìœ¼ë¡œ ì´ë™í•˜ê²Œ ë˜ì—ˆë‹¤.

<br>
</div>
</details>

<details>
<summary><b>tailwind css í´ë˜ìŠ¤ëª…ì„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í–ˆì„ë•Œ ê°’ì„ ë¶ˆëŸ¬ì™€ì§€ì§€ë§Œ í´ë˜ìŠ¤ ì ìš©ì´ ë˜ì§€ ì•ŠëŠ” ì´ìŠˆ</b></h4></summary>
<div markdown="1">

### íŠ¸ëŸ¬ë¸”ìŠˆíŒ… : ProductCard

ì´ê²Œ ë¬´ìŠ¨ ë§ì´ëƒí•˜ë©´ ì´ ì»´í¬ë„ŒíŠ¸ê°€ ì„¸ ê°€ì§€ ë²„ì „ìœ¼ë¡œ ì¬ì‚¬ìš©ì´ ë˜ì–´ì•¼í–ˆë‹¤.

ì´ì „ì—ëŠ” ëª¨ë°”ì¼ë§Œ í–ˆì—ˆìœ¼ë‹ˆê¹Œ ì‰½ê²Œ ì»¤ìŠ¤í…€ì„ í•  ìˆ˜ ìˆì—ˆëŠ”ë°
ë°ìŠ¤í¬íƒ‘ ë²„ì „ë„ ê°™ì´ êµ¬í˜„í•´ì•¼ë¼ì„œ ì°¸ ì• ë¥¼ ë¨¹ì—ˆë‹¤.

### ì²« ì‹œë„

```tsx
export const productCardVariants = {
  default: {
    mobile: {
      container: 'w-[124px] h-[186px]',
      image: 'w-[124px] h-[152px]',
      marginName: 'mt-3',
    },
    desktop: {
      container: 'xl:w-[224px] xl:h-[333px]',
      image: 'xl:w-[224px] xl:h-[291px]',
      marginName: 'xl:mt-5',
    },
  },
  result: {
    mobile: {
      container: 'w-[124px] h-[186px]',
      image: 'w-[124px] h-[186px]',
      marginName: '',
    },
    desktop: {
      container: 'xl:w-[160px] xl:h-[222px]',
      image: 'xl:w-[160px] xl:h-[222px]',
      marginName: '',
    },
  },
  search: {
    mobile: {
      container: 'w-[163px] h-[241px]',
      image: 'w-[163px] h-[207px]',
      marginName: 'mt-3',
    },
    desktop: {
      container: 'xl:w-[224px] xl:h-[333px]',
      image: 'xl:w-[224px] xl:h-[291px]',
      marginName: 'xl:mt-5',
    },
  },
  like: {
    mobile: {
      container: 'w-[163px] h-[241px]',
      image: 'w-[163px] h-[207px]',
      marginName: 'mt-3',
    },
    desktop: {
      container: 'xl:w-[224px] xl:h-[333px]',
      image: 'xl:w-[224px] xl:h-[291px]',
      marginName: 'xl:mt-5',
    },
  },
} as const;

export type ProductCardScenario = keyof typeof productCardVariants;

```

- ì´ë ‡ê²Œ ìœ í‹¸ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ ë§Œë“¤ê³ ,

---

```tsx
'use client';

import Link from 'next/link';
import React from 'react';
import { twMerge } from 'tailwind-merge'; // tailwind mergeìš© ë¼ì´ë¸ŒëŸ¬ë¦¬(optional)

import LikeButton from './LikeButton';
import OptimizedImage from './OptimizedImage';
import {
  productCardVariants,
  ProductCardScenario,
} from '@/constants/productCardVariants';

type ProductCardProps = {
  /** ì „í†µì£¼ id */
  id: string;
  /** ì „í†µì£¼ ì´ë¦„ */
  name: string;
  /** ì´ë¯¸ì§€ URL */
  imageUrl: string;
  /** ì¢‹ì•„ìš” ì—¬ë¶€ */
  isLiked: boolean;
  /** ì¢‹ì•„ìš” í† ê¸€ í•¨ìˆ˜ */
  onToggleLike: () => void;
  /** ë°ìŠ¤í¬íƒ‘ & ëª¨ë°”ì¼ì—ì„œ ì ìš©í•  ì‚¬ì´ì¦ˆ ì‹œë‚˜ë¦¬ì˜¤ */
  scenario?: ProductCardScenario; // ì¶”ê°€
  /** ìˆ  ì´ë¦„ ë…¸ì¶œ ì—¬ë¶€ */
  isNameVisible?: boolean;
};

/**
 * ëª¨ë°”ì¼ & ë°ìŠ¤í¬íƒ‘ì— ëŒ€ì‘ ê°€ëŠ¥í•œ Product Card
 */
const ProductCard: React.FC<ProductCardProps> = ({
  id,
  name,
  imageUrl,
  isLiked,
  onToggleLike,
  scenario = 'default', // ê¸°ë³¸ê°’
  isNameVisible = true,
}) => {
  // scenario ì— í•´ë‹¹í•˜ëŠ” classë“¤ ê°€ì ¸ì˜¤ê¸°
  const classes = productCardVariants[scenario];

  return (
    <div
      // container ë¶€ë¶„
      className={twMerge(
        'relative flex flex-col', // ê³µí†µ
        classes.mobile.container, // ëª¨ë°”ì¼ ì‚¬ì´ì¦ˆ
        classes.desktop.container, // ë°ìŠ¤í¬íƒ‘ ì‚¬ì´ì¦ˆ
      )}
    >
      {/* ì¢‹ì•„ìš” ë²„íŠ¼ */}
      <div className="absolute bottom-[34px] right-0 z-10">
        <LikeButton isLiked={isLiked} onClick={onToggleLike} />
      </div>

      {/* ìƒì„¸ í˜ì´ì§€ ë§í¬ */}
      <Link href={`/drink/${id}`} className="flex flex-col">
        {/* ì´ë¯¸ì§€ ì˜ì—­ */}
        <div
          className={twMerge(
            // ê³µí†µì ì¸ ìŠ¤íƒ€ì¼(í…Œë‘ë¦¬, ë°°ê²½ ë“±)
            'relative overflow-hidden rounded-[8px] border border-grayscale-200 bg-gray-100 bg-opacity-50',
            // scenarioë³„ë¡œ image ìŠ¤íƒ€ì¼
            classes.mobile.image,
            classes.desktop.image,
          )}
        >
          <OptimizedImage
            src={imageUrl}
            alt={name}
            fill
            className="rounded-lg object-cover"
          />
        </div>

        {/* ì´ë¦„ */}
        {isNameVisible && (
          <div
            className={twMerge(
              // scenarioë³„ margin top
              classes.mobile.marginName,
              classes.desktop.marginName,
              // ê³µí†µì ìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ìŠ¤íƒ€ì¼
              'w-full overflow-hidden text-ellipsis whitespace-nowrap text-left text-title-mm',
            )}
          >
            {name}
          </div>
        )}
      </Link>
    </div>
  );
};

export default ProductCard;

```

- ì´ëŸ°ì‹ìœ¼ë¡œ í–ˆëŠ”ë°, ì´ë¯¸ì§€ ë†’ì´ê°€ 1.1212pxì´ë ‡ê²Œ ëë‹¤.
í•˜ë“œì½”ë”©ì„ í•˜ë©´ ë¶„ëª…íˆ ë˜ëŠ”ë° ì´ë ‡ê²Œë§Œ í•˜ë©´ ì™œ ì•ˆë˜ì§€???
ë„ëŒ€ì²´ ì´ìœ ë¥¼ ëª¨ë¥´ê² ì–´ì„œ ì˜¤ëœì‹œê°„ í—¤ë©”ë‹¤ê°€ í”¼ë“œë°±ì„ ìš”ì²­í–ˆë‹¤.
- ëª¨ë“  ê°’ì´ ë¶ˆëŸ¬ì™€ì§€ê³  í´ë˜ìŠ¤ë„ ì˜ ë“¤ì–´ê°€ì§€ë§Œ
Tailwindê°€ ìœ„ì™€ ê°™ì€ì‹ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ë©´ ë¨¹íˆì§ˆ ì•ŠëŠ”ë‹¤...

---

### í”¼ë“œë°± ë°˜ì˜

```tsx
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* ======================== default ì‹œë‚˜ë¦¬ì˜¤ ======================== */
  .product-card-default {
    @apply relative flex h-[186px] w-[124px] flex-col;
  }
  .product-card-default-image {
    @apply relative h-[152px] w-[124px] overflow-hidden rounded-lg border border-grayscale-200 bg-gray-100 bg-opacity-50;
  }
  /* ì¢‹ì•„ìš” ë²„íŠ¼ (default) */
  .product-card-default-likeBtn {
    @apply absolute bottom-[34px] right-0 z-10;
  }

  @screen xl {
    .product-card-default {
      @apply h-[333px] w-[224px];
    }
    .product-card-default-image {
      @apply h-[291px] w-[224px];
    }
    /* ë°ìŠ¤í¬í†±ì—ì„œë§Œ bottom-44px, right-8px */
    .product-card-default-likeBtn {
      @apply bottom-[44px] right-[8px];
    }
  }

  /* ======================== result ì‹œë‚˜ë¦¬ì˜¤ ======================== */
  .product-card-result {
    @apply relative flex h-[186px] w-[124px] flex-col;
  }
  .product-card-result-image {
    @apply relative h-[186px] w-[124px] overflow-hidden rounded-lg border border-grayscale-200 bg-gray-100 bg-opacity-50;
  }
  /* ì¢‹ì•„ìš” ë²„íŠ¼ (result) â†’ bottom:0, right:0 */
  .product-card-result-likeBtn {
    @apply absolute bottom-0 right-0 z-10;
  }

  @screen xl {
    .product-card-result {
      @apply h-[222px] w-[160px];
    }
    .product-card-result-image {
      @apply h-[222px] w-[160px];
    }
    /* result ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ë°ìŠ¤í¬í†±ë„ ê·¸ëŒ€ë¡œ bottom-0 right-0
       => ë³„ë„ ì¶”ê°€ ìŠ¤íƒ€ì¼ì´ ì—†ë‹¤ë©´ ë¹„ì›Œë‘¬ë„ ë¨
    */
  }

  /* ======================== search ì‹œë‚˜ë¦¬ì˜¤ ======================== */
  .product-card-search {
    @apply relative flex h-[241px] w-[163px] flex-col;
  }
  .product-card-search-image {
    @apply relative h-[207px] w-[163px] overflow-hidden rounded-lg border border-grayscale-200 bg-gray-100 bg-opacity-50;
  }
  /* ì¢‹ì•„ìš” ë²„íŠ¼ë„ defaultì™€ ë™ì¼í•œ ìœ„ì¹˜ë¼ ê°€ì • */
  .product-card-search-likeBtn {
    @apply absolute bottom-[34px] right-0 z-10;
  }

  @screen xl {
    .product-card-search {
      @apply h-[333px] w-[224px];
    }
    .product-card-search-image {
      @apply h-[291px] w-[224px];
    }
    /* desktop ì‹œ ìœ„ì¹˜ */
    .product-card-search-likeBtn {
      @apply bottom-[44px] right-[8px];
    }
  }

  /* ======================== like ì‹œë‚˜ë¦¬ì˜¤ ======================== */
  .product-card-like {
    @apply relative flex h-[241px] w-[163px] flex-col;
  }
  .product-card-like-image {
    @apply relative h-[207px] w-[163px] overflow-hidden rounded-lg border border-grayscale-200 bg-gray-100 bg-opacity-50;
  }
  /* ì¢‹ì•„ìš” ë²„íŠ¼ë„ defaultì™€ ë™ì¼í•œ ìœ„ì¹˜ë¼ ê°€ì • */
  .product-card-like-likeBtn {
    @apply absolute bottom-[34px] right-0 z-10;
  }

  @screen xl {
    .product-card-like {
      @apply h-[333px] w-[224px];
    }
    .product-card-like-image {
      @apply h-[291px] w-[224px];
    }
    .product-card-like-likeBtn {
      @apply bottom-[44px] right-[8px];
    }
  }
}

```

- ëŒ€ì¶© ì´ëŸ°ì‹ìœ¼ë¡œ ê¸€ë¡œë²Œ.cssì— ì„¤ì •í•´ì£¼ê³ ,

---

```tsx
'use client';

import Image from 'next/image';
import Link from 'next/link';

import LikeButton from './LikeButton';

type ProductCardScenario = 'default' | 'result' | 'search' | 'like';

type ProductCardProps = {
  id: string;
  name: string;
  imageUrl: string;
  isLiked: boolean;
  onToggleLike: () => void;
  scenario?: ProductCardScenario;
  isNameVisible?: boolean;
};

const scenarioToClass = (scenario: ProductCardScenario) => {
  switch (scenario) {
    case 'default':
      return {
        container: 'product-card-default',
        image: 'product-card-default-image',
        likeBtn: 'product-card-default-likeBtn',
      };
    case 'result':
      return {
        container: 'product-card-result',
        image: 'product-card-result-image',
        likeBtn: 'product-card-result-likeBtn',
      };
    case 'search':
      return {
        container: 'product-card-search',
        image: 'product-card-search-image',
        likeBtn: 'product-card-search-likeBtn',
      };
    case 'like':
      return {
        container: 'product-card-like',
        image: 'product-card-like-image',
        likeBtn: 'product-card-like-likeBtn',
      };
    default:
      return {
        container: 'product-card-default',
        image: 'product-card-default-image',
        likeBtn: 'product-card-default-likeBtn',
      };
  }
};

const ProductCard = ({
  id,
  name,
  imageUrl,
  isLiked,
  onToggleLike,
  scenario = 'default',
  isNameVisible = true,
}: ProductCardProps) => {
  const classes = scenarioToClass(scenario);

  return (
    <div className={classes.container}>
      {/* ì¢‹ì•„ìš” ë²„íŠ¼ */}
      <div className={classes.likeBtn}>
        <LikeButton isLiked={isLiked} onClick={onToggleLike} />
      </div>

      {/* ìƒì„¸ í˜ì´ì§€ ë§í¬ */}
      <Link href={`/drink/${id}`} className="flex flex-col">
        {/* ì´ë¯¸ì§€ ì˜ì—­ */}
        <div className={classes.image}>
          {/* fill ëª¨ë“œ */}
          <Image
            src={imageUrl}
            alt={name}
            fill
            className="rounded-lg object-cover"
          />
        </div>

        {/* ì´ë¦„ */}
        {isNameVisible && (
          <div className="mt-3 w-full overflow-hidden text-ellipsis whitespace-nowrap text-left text-title-mm xl:mt-5">
            {name}
          </div>
        )}
      </Link>
    </div>
  );
};

export default ProductCard;

```

- ì´ëŸ°ì‹ìœ¼ë¡œ í•´ì¤¬ë”ë‹ˆ ì´ì œ ì˜ëœë‹¤.
- `scenarioToClass` :
ìœ í‹¸í•¨ìˆ˜ë¡œ ë¶„ë¦¬ê°€ ê°€ëŠ¥í• ê²ƒ ê°™ì•„ì„œ ë¶„ë¦¬í–ˆë‹¤ê°€ ì‹¤íŒ¨í–ˆë‹¤.
ë§ˆì°¬ê°€ì§€ë¡œ ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ë¶ˆëŸ¬ì˜¤ëŠ”ê²ƒì€ ì•ˆë ê²ƒê°™ì•„ì„œ ì–´ì©” ìˆ˜ ì—†ì´ ì´ ì»´í¬ë„ŒíŠ¸ë‚´ì—ì„œ ì²˜ë¦¬í–ˆë‹¤.

<br>
</div>
</details>

<details>
<summary><b>ì´ì „Â ë°ì´í„°ê°€Â ì ê¹ í‘œì‹œëœ í›„Â ìƒˆë¡œìš´ ë°ì´í„°ê°€ ë¡œë“œë˜ë©´ì„œÂ í™”ë©´ì´ ê¹œë¹¡ì´ëŠ” í˜„ìƒ</b></h4></summary>
<div markdown="1">

## ë¬¸ì œë°œìƒ :

ê¸°ì¡´ setState ë¥¼ ì´ìš©í•´ ê²€ìƒ‰ì„ í•˜ë˜ ë°©ì‹ì—ì„œ

íŒŒë¼ë¯¸í„°ë¥¼ ì´ìš©í•œ ê²€ìƒ‰ ë¡œì§ìœ¼ë¡œ ë¦¬íŒ©í† ë§ ì¤‘

ë°ì´í„°ë¥¼ íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ë¶ˆëŸ¬ì˜¤ê¸´ í•˜ë‚˜

ì´ì „ ë°ì´í„°ë¥¼ í•œë²ˆ ë³´ì—¬ì£¼ê³  ê¹œë¹¡ì´ë©° ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ 

ë¶ˆëŸ¬ì˜¤ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.

## ì›ì¸ :

```jsx
// useInfiniteQuery ì»¤ìŠ¤í…€ í›…

const useFilterSortedResults = () => {
  const searchParams = useSearchParams();

  const selectedTypes = getSelectedTypes(searchParams);
  const alcoholStrength = getAlcoholStrength(searchParams);
  const tastePreferences = getTastePreferences(searchParams);
  const { selectedSort } = useSortStore();

  const filterParams: FilterParams = {
    types: selectedTypes,
    alcoholStrength,
    tastePreferences,
  };

  const { data, isLoading, isError, fetchNextPage, hasNextPage, refetch } =
    useInfiniteQuery({
      // filterSortedDrinks
      queryKey: ['filterDrinks', filterParams, selectedSort === 'alphabetical'],
      queryFn: ({ pageParam = 1 }) =>
        filterSortedDrinks({ ...filterParams, page: pageParam }),
      getNextPageParam: (lastPage) =>
        lastPage.hasNextPage ? lastPage.nextPage : null,
      initialPageParam: 1,
      enabled: false,
      staleTime: 1000 * 60 * 5,
      retry: 1,
    });
  // triggerFetch trueì¼ ë•Œ refetch í˜¸ì¶œ
  useEffect(() => {
    if (triggerFetch) {
      refetch(); // enabled falseë¥¼ ì´ìš©í•œ íŠ¸ë¦¬ê±°
      setTriggerFetch(false);
    }
  }, [triggerFetch]);

  // ì „ì²´ ë°ì´í„° ê°œìˆ˜ ê³„ì‚°
  const totalCount = data?.pages[0]?.totalCount || 0;

  return {
    filterSortData: data?.pages.flatMap((page) => page.drinks) || [],
    isLoading,
    totalCount,
    isError,
    fetchNextPage,
    hasNextPage,
  };
};
```

```jsx
 // í•„í„° ì •ë³´ ì ìš©ëˆŒë €ì„ ë•Œ 
 const handleApplyfilters = () => {
    const newUrl = useNavigateToFilter();
    queryClient.removeQueries({
      queryKey: ['filterDrinks'],
      exact: false,
    });
    router.push(newUrl);
    if (alcoholStrength === null) {
      setAlcoholStrength([0, 100]);
    }
    closeModal();
    setIsFiltered(true);
    setTriggerFetch(true);
    setSelectedSort('alphabetical');
  };
```

ì´ì „ì— ë‹¨ìˆœì´ ê²€ìƒ‰í•  ë•Œ ë¼ìš°í„°ë§Œ ë³€ê²½ë˜ê²Œ í‰ë‚´ëƒˆê³ ,

queryClient.removeQueries() ë¡œ ê¸°ì¡´ì˜ queryKeyë¥¼ í•œë²ˆ

ì§€ì›Œë‚´ê³ , ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ íŒ¨ì¹­í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ì˜€ë‹¤.

ê²€ìƒ‰ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ useInfiniteQueryì—ì„  useEffectë¡œ

triggerFetchê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ enabledë¡œ ì¸í•´ ë™ì‘í•˜ê²Œ êµ¬ë™í•˜ì˜€ìŠµë‹ˆë‹¤.

## ì›ì¸ íŒŒì•… :

```jsx
const useNavigateToFilter = () => {
  const router = useRouter(); 

  const navigateToFilter = useCallback(
    (
      selectedTypes: string[],
      alcoholStrength: [number, number] | null,
      tastePreferences: TastePreferences,
    ) => {
      if (!router) return; 

      const params = new URLSearchParams();

      if (selectedTypes.length > 0) {
        params.append('selectedTypes', selectedTypes.join(','));
      }

      if (alcoholStrength) {
        params.append('alcoholStrength', JSON.stringify(alcoholStrength));
      }

      if (Object.keys(tastePreferences).length > 0) {
        params.append(
          'tastePreferences',
          encodeURIComponent(JSON.stringify(tastePreferences)),
        );
      }

      router.replace(`/search?${params.toString()}`);
    },
    [router],
  );

  return navigateToFilter;
};

```

```jsx
 const handleApplyfilters = () => {
    const newUrl = useNavigateToFilter();
    queryClient.removeQueries({
      queryKey: ['filterDrinks'],
      exact: false,
    });
    router.push(newUrl);
    setTriggerFetch(true);
  };
```

í•„í„°ë¥¼ ì§„í–‰í–ˆì„ ë•Œ íŒŒë¼ë¯¸í„°ë¡œ ì „í™˜í•˜ëŠ” useNavigateToFilter ë¼ëŠ” ìœ í‹¸í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì˜€ê³ ,

(ì»¤ìŠ¤í…€ í›…ì´ë¼ ìƒê°í–ˆì§€ë§Œ ì»¤ìŠ¤í…€ í›…ì˜ í˜•íƒœëŠ” ì•„ë‹ˆê¸°ì— ì •ì •í•©ë‹ˆë‹¤.)

ìœ„ì˜ í•„í„° ê°’ì„ íŒŒë¼ë¯¸í„°ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì—ì„œ

.append() ë¥¼ ì´ìš©í•˜ì˜€ëŠ”ë° URLsearchParamsì˜ ë‚´ë¶€ ë©”ì„œë“œë¥¼ ì—¬ëŸ¬ë²ˆ í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì— ì›ì¸ì´ ë  ìˆ˜ ìˆì—ˆë‹¤.

ë˜í•œ ì•„ë˜ì˜ queryClient.removeQueriesë„ ë¬¸ì œì˜€ëŠ”ë°

ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ë˜ì–´ ì´ì „ì— ê¹œë¹¡ì´ëŠ” ë¬¸ì œì˜ ì›ì¸ì€

ìºì‹±ëœ ë°ì´í„° ì§€ì›Œì§ â†’ íŒŒë¼ë¯¸í„°ì— ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê°’ì´ ì¡´ì¬í•¨ â†’ useInfiniteQueryê°€ íŒ¨ì¹­í•¨ â†’ ë’¤ëŠ¦ê²Œ router.pushê°€ ì´ë£¨ì–´ì§ â†’ useInfiniteQueryê°€ ë³€ê²½ëœ URLë¡œ ì¬ìš”ì²­ì„ ë³´ëƒ„

## í•´ê²° :

```jsx
// useInfiniteQuery ì»¤ìŠ¤í…€ í›… ë¦¬íŒ©í† ë§
const useFilterSortedResults = () => {
  const searchParams = useSearchParams();

  const selectedTypes = getSelectedTypes(searchParams);
  const alcoholStrength = getAlcoholStrength(searchParams);
  const tastePreferences = getTastePreferences(searchParams);

  const liked = getLiked(searchParams);
  const isLikedMode = liked === 'liked';
  const hasValidParams =
    searchParams.get('selectedTypes') !== null ||
    searchParams.get('alcoholStrength') !== null ||
    searchParams.get('tastePreferences') !== null;

  const filterParams: FilterParams = {
    types: selectedTypes,
    alcoholStrength,
    tastePreferences,
  };
  const effectiveKeyword = isLikedMode ? undefined : filterParams;

  const { data, isPending, isError, fetchNextPage, hasNextPage } =
    useInfiniteQuery({
      queryKey: ['filterDrinks', effectiveKeyword],
      queryFn: ({ pageParam = 1 }) => {
        return filterSortedDrinks({ ...filterParams, page: pageParam });
      },
      getNextPageParam: (lastPage) => {
        return lastPage.hasNextPage ? lastPage.nextPage : null;
      },
      initialPageParam: 1,
      staleTime: 1000 * 60 * 5,
      retry: 1,
      enabled: hasValidParams && !isLikedMode,
    });

  return {
    filterSortData: data?.pages.flatMap((page) => page.drinks) || [],
    isPending,
    totalCount: data?.pages[0]?.totalCount || 0,
    isError,
    fetchNextPage,
    hasNextPage,
  };
};
```

```jsx
// .append() ëŒ€ì‹  & ë¥¼ ì´ìš© 
export const generateUrl = ({
  selectedTypes = [],
  alcoholStrength = null,
  tastePreferences = {},
  keyword = '',
  sort = 'alphabetical',
}: GenerateUrlType): string => {
  const queryParams = [
    selectedTypes.length > 0 ? `selectedTypes=${selectedTypes.join(',')}` : '',

    alcoholStrength ? `alcoholStrength=${JSON.stringify(alcoholStrength)}` : '',

    Object.keys(tastePreferences).length > 0
      ? `tastePreferences=${encodeURIComponent(JSON.stringify(tastePreferences))}`
      : '',

    keyword ? `keyword=${encodeURIComponent(keyword)}` : '',

    sort ? `sort=${encodeURIComponent(sort)}` : '',
  ]
    .filter(Boolean)
    .join('&');

  return `/search${queryParams ? `?${queryParams}` : ''}`;
};

// íŒŒë¼ë¯¸í„° ìƒì„± í•¨ìˆ˜ í•˜ë‚˜ë¡œ ê´€ë¦¬í•˜ë‹¤ ê°œë³„ í•¨ìˆ˜ë¡œ ë¶„ë¦¬
export const getSelectedTypes = (searchParams: URLSearchParams): string[] => {
  return searchParams.get('selectedTypes')
    ? searchParams.get('selectedTypes')!.split(',')
    : [];
};

export const getAlcoholStrength = (
  searchParams: URLSearchParams,
): [number, number] | null => {
  if (!searchParams.get('alcoholStrength')) return null;
  try {
    const values = JSON.parse(searchParams.get('alcoholStrength')!) as [
      number,
      number,
    ];
    return Array.isArray(values) && values.length === 2 ? values : null;
  } catch (error) {
    console.error('Invalid alcoholStrength format:', error);
    return null;
  }
};

export const getTastePreferences = (
  searchParams: URLSearchParams,
): Record<string, number> => {
  if (!searchParams.get('tastePreferences')) return {};
  return Object.fromEntries(
    searchParams
      .get('tastePreferences')!
      .replace(/^\{|\}$/g, '')
      .split(',')
      .map((pair) => {
        const [key, value] = pair.split(':').map((item) => item.trim());
        return [key, Number(value)];
      }),
  );
};

```

```jsx
  // ì…ë ¥ ì‹œ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •
  const handleApplyfilters = () => {
    setIsFiltered(true);
    const newUrl = generateUrl({
      selectedTypes,
      alcoholStrength,
      tastePreferences,
    });
    router.push(newUrl);
    closeModal();
  };
```

ìœ„ì™€ ê°™ì´ ìˆ˜ì •í•˜ì—¬ 2ë²ˆ ê¹œë¹¡ì´ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ì˜€ë‹¤.

<br>
</div>
</details>
